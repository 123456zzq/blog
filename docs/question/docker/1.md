## docker åº”ç”¨åœºæ™¯

###
- ç¯å¢ƒä¸€è‡´
- æŒç»­é›†æˆ
- å¾®æœåŠ¡
- å¼¹æ€§ä¼¸ç¼©

é€šè¿‡é•œåƒç”Ÿæˆå®¹å™¨


{
    "registry-mirrors":["https://docker.mirrors.ustc.edu.cn"]
}

sudo systemctl daemon-reload
sudi systemctl restart docker



#### imageé•œåƒ

- Docker æŠŠåº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–,æ‰“åŒ…åœ¨ imageæ–‡ä»¶é‡Œé¢ã€‚åªæœ‰é€šè¿‡è¿™ä¸ªæ–‡ä»¶,æ‰èƒ½ç”Ÿæˆ Docker å®¹å™¨
- image æ–‡ä»¶å¯ä»¥çœ‹ä½œæ˜¯å®¹å™¨çš„æ¨¡ç‰ˆ
- Docker æ ¹æ® image æ–‡ä»¶ç”Ÿæˆå®¹å™¨çš„å®ä¾‹
- åŒä¸€ä¸ª image æ–‡ä»¶,å¯ä»¥ç”Ÿæˆå¤šä¸ªåŒæ—¶è¿è¡Œçš„å®¹å™¨å®ä¾‹
- å®¹å™¨ä¸æ˜¯ä¸€ä¸ªå•ä¸€çš„æ–‡ä»¶,è€Œæ˜¯æœ‰å¤šå±‚
- å®¹å™¨å…¶å®å°±æ˜¯åœ¨é•œåƒçš„æœ€ä¸Šé¢åŠ äº†ä¸€å±‚è¯»å†™å±‚,åœ¨è¿è¡Œå®¹å™¨é‡Œåšçš„ä»»ä½•æ–‡ä»¶æ”¹åŠ¨,éƒ½ä¼šå†™åˆ°è¿™ä¸ªè¯»å†™å±‚é‡Œ,å¦‚æœå®¹å™¨åˆ é™¤äº†,æ”¹åŠ¨ä¹Ÿå°±ä¸¢å¤±äº†
- æˆ‘ä»¬å¯ä»¥é€šè¿‡ docker history <ID/NAME> æŸ¥çœ‹é•œåƒä¸­å„å±‚å†…å®¹åŠå¤§å°,æ¯å±‚å¯¹åº”ç€ Dockerfile ä¸­çš„ä¸€æ¡æŒ‡ä»¤

-------

|å‘½ä»¤|å«ä¹‰|æ¡ˆä¾‹|
|:--|:--|:--|
|ls|æŸ¥çœ‹å…¨éƒ¨é•œåƒ|docker image ls
|search|æŸ¥æ‰¾é•œåƒ|docker search [imageName]
|history|æŸ¥çœ‹é•œåƒå†å²|docker history [imageName]
|inspect|æ˜¾ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒè¯¦ç»†ä¿¡æ¯|docker inspect [imageName]
|pull|æ‹‰å–é•œåƒ|docker pull [imageName]
|push|æ¨é€ä¸€ä¸ªé•œåƒåˆ°é•œåƒä»“åº“|docker push [imageName]
|rmi|åˆ é™¤é•œåƒ|docker rmi [imageName] docker image rmi 2
|prunne|ç§»é™¤æœªä½¿ç”¨çš„é•œåƒ,æ²¡æœ‰è¢«æ ‡è®°æˆ–è¢«ä»»ä½•å®¹å™¨å¼•ç”¨|docker image prune
|tag|æ ‡è®°æœ¬åœ°é•œåƒ,å°†å…¶å½’å…¥æŸä¸€ä»“åº“|docker image tag [imageName][username]/[repository]:[tag]
|export|å¯¼å‡ºå®¹å™¨æ–‡ä»¶ç³»ç»Ÿtarå½’æ¡£æ–‡ä»¶åˆ›å»ºé•œåƒ|docker export -o mysqlv1.tar
|save|ä¿å­˜ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒåˆ°ä¸€ä¸ªtarå½’æ¡£æ–‡ä»¶|docker save -o mysqlv2.art xx/mysqlv2:v2
|load|åŠ è½½é•œåƒå­˜å‚¨æ–‡ä»¶æ¥è‡ªtarå½’æ¡£æˆ–æ ‡å‡†è¾“å…¥|docker load -i mysylv2.tar
|build|æ ¹æ® Dockerfileæ„å»ºé•œåƒ|

### æŸ¥çœ‹é•œåƒ
```
docker search node
```
|å­—æ®µ|å«ä¹‰
|:--|:--
|Name|åç§°
|DESCRIPTION|æè¿°
|STARTS|ğŸŒŸæ•°é‡
|OFFICIAL|æ˜¯å¦å®˜æ–¹æº

### æ‹‰å–é•œåƒ
```
docker pull docker.io/hello-world 
```
- docker image pull æ˜¯æ‹‰å– image æ–‡ä»¶çš„å‘½ä»¤
- docker.io/hello-worldæ˜¯ image æ–‡ä»¶åœ¨ä»“åº“é‡Œé¢çš„ä½ç½®,å…¶ä¸­ docker.io æ˜¯ imageçš„ä½œè€…,hello-worldæ˜¯ imageæ–‡ä»¶çš„åå­—
- Docker å®˜æ–¹æä¾›çš„ image æ–‡ä»¶,éƒ½æ”¾åœ¨ docker.io ç»„é‡Œé¢,æ˜¯å®ƒçš„é»˜è®¤ç»„,å®˜æ–¹å¯ä»¥çœç•¥ docker image pull hello-world

### åˆ é™¤é•œåƒ
```
docker rmi hello-world
```


## å®¹å™¨

- docker run å‘½ä»¤ä¼šä» image æ–‡ä»¶,ç”Ÿæˆä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨å®ä¾‹
- docker container run å‘½ä»¤å…·æœ‰è‡ªåŠ¨æŠ“å– image æ–‡ä»¶çš„åŠŸèƒ½ã€‚å¦‚æœå‘ç°æœ¬åœ°æ²¡æœ‰æŒ‡å®šçš„ image æ–‡ä»¶,å°±ä¼šä»ä»“åº“è‡ªåŠ¨æŠ“å–
- è¾“å‡ºæç¤ºä»¥å,hello worldå°±ä¼šåœæ­¢è¿è¡Œ,å®¹å™¨è‡ªåŠ¨ç»ˆæ­¢
- æœ‰äº›å®¹å™¨ä¸ä¼šè‡ªåŠ¨ç§æ¤
- image æ–‡ä»¶ç”Ÿæˆçš„å®¹å™¨å®ä¾‹,æœ¬èº«æ˜¯ä¸€ä¸ªæ–‡ä»¶,ç§°ä¸ºå®¹å™¨æ–‡ä»¶
- å®¹å™¨ç”Ÿæˆ,å°±ä¼šåŒæ—¶å­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶: imageæ–‡ä»¶å’Œå®¹å™¨æ–‡ä»¶
- å…³é—­å®¹å™¨å¹¶ä¸ä¼šåˆ é™¤å®¹å™¨æ–‡ä»¶,åªæ˜¯å®¹å™¨åœæ­¢è¿è¡Œ

### å‘½ä»¤

|å‘½ä»¤|å«ä¹‰|æ¡ˆä¾‹
|:--|:--|:--
|run|ä»é•œåƒè¿è¡Œä¸€ä¸ªå®¹å™¨|docker run node/bin/echo 'hello-world'
|ls|åˆ—å‡ºå®¹å™¨|docker container ls
|inspect|æ˜¾ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨è¯¦ç»†ä¿¡æ¯|docker inspect
|attach|è¦attachä¸Šå»çš„å®¹å™¨å¿…é¡»æ­£åœ¨è¿è¡Œ,å¯ä»¥åŒæ—¶é“¾æ¥ä¸ŠåŒä¸€ä¸ªcontaineræ¥å…±äº«å±å¹•|docker attach
|||
|||
|||
|||